<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>云校园</title>
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/tracking-min.js"></script>
    <script src="js/face-min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" type="text/css" href="fonts/font_suo/iconfont.css">
    <link rel="stylesheet" href="dist/css/Lobibox.min.css" />
    <link rel="stylesheet" type="text/css" href="fonts/font_x1oq2ao31fdjwcdi/iconfont.css">
</head>
<style>
    * {
        font-size: 14px;
    }

    .icon-suo {
        font-size: 70px;
        color: #595959;
    }

    .icon-suo:hover {
        cursor: pointer;
        color: #4d994d;
    }

    .tileBottom {
        width: 100%;
        height: 270px;
        padding-top: 60px;
    }

    .main_left {
        padding-top: 50px;
        width: 13%;
        float: left;

    }

    .main_left .main_left_top {
        width: 100%;
        margin-bottom: 20px;
    }

    .main_left .main_left_bottom {
        width: 195px;
        border-top: 1px solid #e5e5e5;
        padding-top: 10px;
        -webkit-border-top-right-radius: 10px;
        -webkit-border-bottom-right-radius: 10px;
        border-right: 1px solid #e5e5e5;
        border-bottom: 1px solid #e5e5e5;
        z-index: 999;
        position: absolute;
        top: 100px;
    }

    .main_left .main_left_bottom div {
        cursor: pointer;
        display: inline-block;
        background-color: #6b6b6b;
        width: 30px;
        height: 30px;
        color: #FFFFFF;
        -webkit-border-radius: 30px;
        line-height: 30px;
        text-align: center;
        margin-right: 4px;
        margin-bottom: 5px;
        box-shadow: 1px 1px 1px 1px #9e9e9e;

        font-size: 10px;
        font-weight: bold;
    }

    * {
        -webkit-user-select: none;
    }

    .main_right {

        -webkit-border-bottom-left-radius: 10px;
        -webkit-border-top-left-radius: 10px;
        margin-top: 50px;
        width: 83%;
        float: right;
        background-color: #ffffff;
        position: relative;
        margin-bottom: 25px;
    }

    @media screen and (min-width: 1201px) {
        .main_right {
            width: 83%;
        }

        .main_left {
            width: 13%;
        }
    }

    @media screen and (min-width: 1700px) {
        .main_right {
            width: 85%;
        }

        .main_left {
            width: 15%;
        }
    }

    /*@media screen and (max-width: 1200px) {*/

    /*.main_right {*/

    /*width: 800px;*/

    /*}*/

    /*}*/

    /*@media screen and (max-width: 900px) {*/

    /*.main_right {*/

    /*width: 500px;*/

    /*}*/

    /*}*/

    .main_right .main_right_item {
        width: 100%;
        height: 100%;

    }

    .title {
        background-color: #FFFFFF;
        -webkit-border-top-left-radius: 5px;
        -webkit-border-top-right-radius: 5px;
        width: 100%;
        height: 100px;
        display: flex;
        /*column 纵向  row:横向  -reverse 倒过来了*/
        flex-direction: row;
        /*主轴居中  space-around 平分  space-between两头堵死 中间平分*/
        justify-content: space-between;
        /*纵轴对齐方式flex-end*/
        align-items: center;
        flex-wrap: wrap-reverse;
        text-indent: 2em;
        border-top: 1px solid #ece9ea;
        border-left: 1px solid #ece9ea;
        border-bottom: 1px solid #e8e8e8;
        box-shadow: 1px 1px 1px 1px #ece9ea;
        padding-top: 80px;
        padding-bottom: 80px;

    }

    .title .main_right_title {
        font-size: 18px;
        width: 80%;
        padding-left: 20px;
    }

    .answer {
        position: relative;
        width: 100%;

        background-color: #FFFFFF;
        border-left: 1px solid #eaeaea;
        border-bottom: 1px solid #eaeaea;
        -webkit-border-bottom-left-radius: 5px;

    }

    .answer p {
        text-indent: 4em;
        line-height: 50px;
        background-color: #f8ffea;
        -webkit-border-radius: 5px;
        width: 100%;
        height: 50px;
        cursor: pointer;
    }

    .main_left_top {
        position: absolute;
        left: -15px;
        width: 200px;
        height: 80px;
        background-color: #7b7b7b;
        text-indent: 5px;
        box-shadow: 1px 1px 1px 1px #cecece;
        -webkit-border-bottom-right-radius: 15px;
        -webkit-border-top-right-radius: 15px;
        line-height: 80px;
        color: #FFFFFF;
        font-weight: bold;
        font-size: 16px;
        display: block;
        white-space: nowrap;
        /* 不换行 */
        overflow: hidden;
        /* 内容超出宽度时隐藏超出部分的内容 */
        text-overflow: ellipsis;
        /* 当对象内文本溢出时显示省略标记(...) ；需与overflow:hidden;一起使用。*/
        ;
        /* 内容超出宽度时隐藏超出部分的内容 */
    }

    .topicAnalysis {
        text-indent: 2em;
        font-size: 16px;
        width: 80%;
        padding-left: 20px;
        padding-top: 20px;
        padding-bottom: 50px;
    }

    .topicAnalysis1 {
        text-indent: 2em;
        font-size: 16px;
        padding-left: 20px;

    }

    .closeExam {
        display: inline-block;
        width: 60px;
        height: 35px;
        text-align: center;
        line-height: 35px;
        font-weight: bold;
        font-size: 12px;
        -webkit-border-radius: 5px;
        background-color: #ef8882;
        position: fixed;
        right: 200px;
        bottom: 50px;
        color: #FFFFFF;
        box-shadow: 1px 1px 1px 1px #dbdbdb;
        cursor: pointer;
    }

    .returnTop {
        display: inline-block;
        width: 60px;
        height: 35px;
        text-align: center;
        line-height: 35px;
        font-weight: bold;
        font-size: 12px;
        -webkit-border-radius: 5px;
        background-color: #957de4;
        position: fixed;
        right: 130px;
        bottom: 50px;
        color: #FFFFFF;
        box-shadow: 1px 1px 1px 1px #dbdbdb;
        cursor: pointer;
    }

    .tuichu {
        position: absolute;
        right: 0;
    }
</style>

<body>

    <div id="bdtts_div_id">
        <audio id="tts_autio_id" autoplay="autoplay">
            <source id="tts_source_id" src="http://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&spd=9&text=" type="audio/mpeg">
            <embed id="tts_embed_id" height="0" width="0" src="">
        </audio>
    </div>
    <div class="container-fluid" id="app" style="background-color: #FFFFFF;">


        <div class="main_left">
            <div style="position: fixed;width: 220px">

                <div class="main_left_top" title="">{{questionName}}</div>

                <div class="main_left_bottom">


                </div>
            </div>

        </div>
        <div class="main_right">

            <div class="main_right_item" v-for="(item,index) in examDate" :id="index">
                <div class="title">
                    <p class="main_right_title">
                        <span style="font-weight: bold;font-size: 16px;color: #707070">（{{index+1}}）、</span>
                        <span style="font-weight: bold;font-size: 16px;color: #707070">{{item.topicName}}</span>
                    </p>
                </div>
                <div class="answer">
                    <!--onclick="selectdOption(1)"-->
                    <p v-if="item.optionA!=''">
                        <span class="optionA">A、{{item.optionA}}</span>
                    </p>
                    <p v-if="item.optionB!=''">
                        <span class="optionB">B、{{item.optionB}}</span>
                    </p>
                    <p v-if="item.optionC!=''">
                        <span class="optionC">C、{{item.optionC}}</span>
                    </p>
                    <p v-if="item.optionD!=''">
                        <span class="optionD">D、{{item.optionD}}</span>
                    </p>
                    <p v-if="item.optionE!=''">
                        <span class="optionD">E、{{item.optionE}}</span>
                    </p>
                    <p v-if="item.optionF!=''">
                        <span class="optionD">F、{{item.optionF}}</span>
                    </p>
                    <div class="topicAnalysis1" style="margin-top: 50px">
                        <span style="color: #4c864c;font-weight: bold;font-size: 14px">正确答案：</span>
                        <span style="color: #575757">【{{item.modelAnswer}}】</span>
                        <span style="color: #4c864c;font-weight: bold;font-size: 14px">
                            您选择的是： </span>
                        <span style="color: #68b68c">【{{item.studentAnswer}}】</span>

                    </div>

                    <div class="topicAnalysis">

                        <span style="color: #c64042;font-weight: bold;">试题解析：</span>

                        <i class="iconfont icon-yuyin" @click="du(item.topicAnalysis)" style="font-size: 18px;cursor: pointer;color: #c64042;" title="单击可语音朗读"></i>
                        <span v-if="item.topicAnalysis==''">
                            该试题没有解析，抱歉
                        </span>
                        <span v-if="item.topicAnalysis!=''">
                            {{item.topicAnalysis}}
                        </span>
                    </div>
                </div>

            </div>

        </div>
        <div class="returnTop" title="点击回到顶部">顶部</div>
        <div class="closeExam" title="点击退出解析">退出</div>
    </div>
    <script src="dist/js/lobibox.min.js"></script>
    <script src="demo/demo.js"></script>
</body>

</html>

<script>
    var lo = "localhost";
    var index = 0;
    var pageRow = 0;
    var stuId = "";
    var customId = "";
    //var gui = require("nw.gui");
    //var win = gui.Window.get();
    var app = new Vue({
        el: '#app',
        data: {
            message: '',
            examDate: [0],
            onOrDuo: "",
            stu: {},
            questionId: 0,
            count: 0,
            questionName: ""
        },
        methods: {
            //开启全屏
            openFullWindow() {
                win.enterFullscreen();//进入全屏
            },
            //加载数据
            getIndexDate() {
                var testId = localStorage.getItem("testId")
                var userInfo = localStorage.getItem("user");
                var obj = JSON.parse(userInfo);

                $.post("http://" + lo + ":8080/specialtrainScore/selectSpecialtrainScoreByStudentIdAndTestId", {
                    "studentId": obj.studentId,
                    "testId": testId
                }, function (dates) {
                    console.log(dates);
                    app.examDate = dates;
                    for (var i = 0; i < dates.length; i++) {
                        if (i < dates.length) {
                            if (dates[i].modelAnswer == dates[i].studentAnswer) {
                                app.dds += 1;
                                $(".main_left_bottom").append(' <a href="#' + (i) + '" > <div style="background-color: #74d66d" class="result-right-bottom-item"> ' + (i + 1) + '</div></a>');
                            } else {
                                $(".main_left_bottom").append(' <a href="#' + (i) + '" > <div style="background-color: #f17a63" class="result-right-bottom-item"> ' + (i + 1) + '</div></a>');
                            }
                        } else {
                            $(".main_left_bottom").append(' <a href="#' + (i) + '" > <div style="background-color: #f17a63" class="result-right-bottom-item"> ' + (i + 1) + '</div></a>');
                        }
                    }
                }, "json");
            },
            //语音朗读
            du(text) {

                if (text == '') {
                    text = '该试题没有解析，抱歉';
                }
                var ttsDiv = document.getElementById('bdtts_div_id');
                var ttsAudio = document.getElementById('tts_autio_id');
                //                http://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&spd=6&per=1&text=' + text + '
                ttsDiv.removeChild(ttsAudio);
                var au1 = '<audio id="tts_autio_id" autoplay="autoplay">';
                var sss = '<source id="tts_source_id" src="http://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&spd=6&per=1&text=' + text + '" type="audio/mpeg">';
                var eee = '<embed id="tts_embed_id" height="0" width="0" src="">';
                var au2 = '</audio>';
                ttsDiv.innerHTML = au1 + sss + eee + au2;
                ttsAudio = document.getElementById('tts_autio_id');
                ttsAudio.play();


            }

        },
        created() {
            //this.openFullWindow();//全屏
            var questionId = localStorage.getItem("questionId");
            this.questionId = questionId; //获取试题编号
            //拿到学生ID
            var stu = localStorage.getItem("user");//登录用户
            var obj = JSON.parse(stu);//获取登录对象信息
            stuId = obj.studentId;
            this.questionName = localStorage.getItem("specialtrainName");
            this.getIndexDate();//获取数据

        }
    });
</script>
<script>


    $(function () {


        $(".returnTop").click(function () {
            $('html,body').animate({
                scrollTop: 0
            }, 800);
        });
        $(".closeExam").click(function () {
            //win.leaveFullscreen();
            window.history.back(-1);
            // show_iframe.location = "nav_historyTran.html";
        });
    }
    );


</script>